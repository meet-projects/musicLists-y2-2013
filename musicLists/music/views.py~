# Create your views here.
from django.http import HttpResponse, HttpResponseRedirect
from django.shortcuts import render
from django.contrib.auth.models import User
from django.contrib.auth import authenticate, login, logout
from django.contrib.auth.decorators import login_required
from models import Artist, Song, Guy, Genre, Album

 
def showSignUp(request):
	context = {}
    	return render(request, 'music/signup.html', context)
<<<<<<< HEAD
def profile(request):
        user = request.user
        print user
	context = {}
=======

@login_required
def homepage(request):
	context = {}
    	return render(request, 'music/homepage.html', context)

@login_required
def profile(request):
	context = {'user': request.user}
>>>>>>> f44c18cefb00fc7b8c62c94882641274de015ec7
    	return render(request, 'music/profile.html', context)

def submitlogin(request):
        UserName=request.POST['username']
	Password=request.POST['password']
	user=authenticate(username=UserName, password=Password)
	if user is not None:
		if user.is_active:
			login(request,user)
<<<<<<< HEAD
			return HttpResponseRedirect('/profile')
=======
			return HttpResponseRedirect('/homepage')
>>>>>>> f44c18cefb00fc7b8c62c94882641274de015ec7
	return HttpResponseRedirect('/signUp')

def signup(request):
	Email=request.POST["user[email]"]
	Password=request.POST["user[password]"]
	UserName=request.POST["tumblelog[name]"]
	FirstName=request.POST["firstname"]
	LastName=request.POST["lastname"]
	newser = User.objects.create_user(username=UserName, email=Email, password=Password, first_name=FirstName, last_name=LastName)
	return HttpResponseRedirect('/profile')

<<<<<<< HEAD
def logout_user(request):
=======
<<<<<<< HEAD
def addsong(request):
	songname = request.POST['songname']
	return HttpResponseRedirect('/profile')
=======
def logout(request):
>>>>>>> c152ec985effcf58734f32862ebd00b1d5b7eeb9
	logout(request)
	return HttpResponseRedirect('/signUp')

>>>>>>> f44c18cefb00fc7b8c62c94882641274de015ec7
